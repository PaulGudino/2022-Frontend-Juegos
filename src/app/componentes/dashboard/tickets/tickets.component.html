<!-- Toolbar -->
<mat-toolbar class="background-navy-primary green-primary">
   <span>{{ singularName }}</span>

   <span class="spacer"></span>
</mat-toolbar>

<!-- Buttons -->
<div class="button_container">
   <button mat-raised-button (click)="toCreation()">
      <div class="add_container">
         <div class="icon_container">
            <mat-icon>add</mat-icon>
         </div>
         <span>Agregar {{ singularName }}</span>
      </div>
   </button>
</div>

<!--Filter-->
<div class="filter_search_container">
   <div class="filter">
      <mat-select
         class="green-primary"
         (selectionChange)="filter($event.value)"
         mat-select
         placeholder="Filtrar"
      >
         <mat-option
            class="background-navy-primary white-color"
            *ngFor="let filter of Filters"
            value="{{ filter.id }}"
            >{{ filter.name }}</mat-option
         >
      </mat-select>
   </div>
   <div class="search green-primary">
      <input
         class="buscador"
         matInput
         (keyup)="applyFilter($event)"
         placeholder="Buscar"
         autocomplete="off"
         #input
      />
      <mat-icon class="green-primary"> search </mat-icon>
   </div>
</div>

<!-- Table -->
<div class="container mat-elevation-z8">
   <table mat-table [dataSource]="dataSource" matSort>
      <!-- Invocice Number Column -->
      <ng-container matColumnDef="invoice_number">
         <th mat-header-cell *matHeaderCellDef mat-sort-header>
            Número de factura
         </th>
         <td mat-cell *matCellDef="let row">{{ row.invoice_number }}</td>
      </ng-container>

      <!-- QR Code Column -->
      <ng-container matColumnDef="qr_code_digits">
         <th mat-header-cell *matHeaderCellDef mat-sort-header>Código QR</th>
         <td mat-cell *matCellDef="let row">{{ row.qr_code_digits }}</td>
      </ng-container>

      <!-- State Column -->
      <ng-container matColumnDef="state">
         <th mat-header-cell *matHeaderCellDef mat-sort-header>Estado</th>
         <td mat-cell *matCellDef="let row">{{ row.state }}</td>
      </ng-container>

      <!-- Client Column -->
      <ng-container matColumnDef="client">
         <th mat-header-cell *matHeaderCellDef mat-sort-header>Cliente</th>
         <td mat-cell *matCellDef="let row">{{ row.client }}</td>
      </ng-container>

      <!-- Game Column -->
      <ng-container matColumnDef="game">
         <th mat-header-cell *matHeaderCellDef mat-sort-header>Juego</th>
         <td mat-cell *matCellDef="let row">{{ row.game }}</td>
      </ng-container>

      <!-- Actions Column -->
      <ng-container matColumnDef="actions">
         <th mat-header-cell *matHeaderCellDef></th>
         <td mat-cell *matCellDef="let element">
            <div>
               <button
                  mat-icon-button
                  color="primary"
                  matTooltip="Visualizar"
                  (click)="view(element.id)"
               >
                  <mat-icon> remove_red_eye </mat-icon>
               </button>
               <button
                  mat-icon-button
                  color="primary"
                  matTooltip="Editar"
                  (click)="edit(element.id)"
               >
                  <mat-icon> edit </mat-icon>
               </button>
               <button
                  mat-icon-button
                  color="warn"
                  matTooltip="Eliminar"
                  (click)="delete(element.id)"
               >
                  <mat-icon> delete </mat-icon>
               </button>
            </div>
         </td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>

      <!-- Row shown when there is no matching data. -->
      <tr class="mat-row" *matNoDataRow>
         <td class="mat-cell" colspan="4">
            No hay datos que coincidan con el filtro "{{ input.value }}"
         </td>
      </tr>
   </table>

   <mat-paginator
      [pageSizeOptions]="[5, 10, 25, 100]"
      aria-label="Select page of users"
   ></mat-paginator>
</div>
